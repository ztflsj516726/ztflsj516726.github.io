---
title: js中Obejct和Map的区别
date: 2025-07-23 16:38:21
tags:
- js
categories:
- js
---

在 JavaScript 中，`Object` 和 `Map` 都可以用来存储键值对，但它们在**功能、性能、使用场景**上有一些重要区别。

> [!NOTE]
>
> `Object` 更像是通用的结构体（适合传统对象结构），而 `Map` 是专门为**键值映射**设计的数据结构。

### 🔍 1. 键的类型

|  特性  |               `Object`               |               `Map`                |
| :----: | :----------------------------------: | :--------------------------------: |
| 键类型 |       只能是字符串或 `Symbol`        | **任意类型**（对象、函数等都可以） |
| 键顺序 | 无保证（但现在多数浏览器按插入顺序） |    **有序**，按照插入顺序迭代键    |

```js
const obj = {};
const map = new Map();

const key1 = { id: 1 };

obj[key1] = "object"; // key1 会变成 "[object Object]"
map.set(key1, "map");

console.log(obj[key1]); // "map"
console.log(map.get(key1)); // "map"

```

### 🔍 2. 遍历方式

|    特性    |            `Object`            |            `Map`             |
| :--------: | :----------------------------: | :--------------------------: |
|  遍历方法  | `for...in` / `Object.keys()`等 | `for...of` / `map.forEach()` |
| 可直接迭代 |  ❌ 不可迭代（需转换 Object.）  |   ✅ 可直接使用 `for...of`    |

```js
const map = new Map([
  ['a', 1],
  ['b', 2],
]);

for (const [key, value] of map) {
  console.log(key, value); // a 1  b 2
}

```

### 🔍 3. 性能

|     特性      |          `Object`          |          `Map`           |
| :-----------: | :------------------------: | :----------------------: |
| 插入/查找速度 | 一般（尤其键多时性能下降） | **更快**（专为映射优化） |
|  数据量大时   |          可能变慢          |          更高效          |

### 🔍 4. 原型属性干扰

|     特性     |                 `Object`                  |       `Map`        |
| :----------: | :---------------------------------------: | :----------------: |
|  自带原型链  |           ✅ 有（如 `toString`）           | ❌ 没有原型属性干扰 |
| 安全键名使用 | ⚠️ 容易冲突（除非用 `Object.create(null)`) |  ✅ 更安全，不冲突  |

### 🔍 5. 常用方法对比

|     功能     |                    `Object`                    |         `Map`         |
| :----------: | :--------------------------------------------: | :-------------------: |
|  添加键值对  |               `obj[key] = value`               | `map.set(key, value)` |
|    获取值    |                   `obj[key]`                   |    `map.get(key)`     |
|    删除键    |               `delete obj[key]`                |   `map.delete(key)`   |
| 判断是否有键 |                  `key in obj`                  |    `map.has(key)`     |
|     清空     | `Object.keys(obj).forEach(k => delete obj[k])` |     `map.clear()`     |
|   获取长度   |           `Object.keys(obj).length`            |      `map.size`       |

------

### ✅ 什么时候用 Map？

- **需要用非字符串类型做 key 时**

- **频繁增删键值对**

- **需要保证键的插入顺序**

- **性能要求较高（大数据量）**

  ------

  

### ✅ 什么时候用 Object？

- 创建**静态对象结构**（如配置对象）
- 与 JSON 互转（JSON 只能处理 Object）
- 不需要复杂的键或迭代逻辑

### 总结	

| 项目     | Object           | Map              |
| -------- | ---------------- | ---------------- |
| 主要用途 | 通用数据结构     | 键值映射结构     |
| 键类型   | 字符串 / Symbol  | 任意类型         |
| 是否有序 | 基本无序         | 有序（插入顺序） |
| 可迭代性 | 否               | 是               |
| 性能     | 较慢（大量数据） | 较快             |
